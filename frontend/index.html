<!DOCTYPE html>
<html>

<head>
    <title>Traffic Visualization</title>
    <link rel="stylesheet" href="styles.css" />
</head>

<body>
    <div class="main-content">
        <div id="globe-container"></div>
    </div>

    <div class="sidebar">
        <div id="connection-status" class="connection-status disconnected">Disconnected</div>
        <div class="dashboard">
            <h2>Traffic Statistics</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <h3>Total Packages</h3>
                    <div id="total-packages" class="stat-value">0</div>
                </div>
                <div class="stat-card">
                    <h3>Suspicious Packages</h3>
                    <div id="suspicious-packages" class="stat-value">0</div>
                </div>
                <div class="stat-card">
                    <h3>Packages/Minute</h3>
                    <div id="packages-per-minute" class="stat-value">0</div>
                </div>
                <div class="stat-card">
                    <h3>Unique IPs</h3>
                    <div id="unique-ips" class="stat-value">0</div>
                </div>
                <div class="stat-card location-card">
                    <h3>Top Location</h3>
                    <div id="top-location" class="stat-value">-</div>
                    <div id="top-location-details" class="stat-details">-</div>
                </div>
            </div>
        </div>
        <div class="updates-container">
            <div class="updates-header">Incoming Network Traffic</div>
            <div id="updates"></div>
        </div>
    </div>

    <div class="controls-panel">
        <div class="control-group">
            <label for="pointLimit">Max Points:</label>
            <input type="number" id="pointLimit" value="50" min="1" max="1000">
        </div>
        <div class="control-group">
            <label for="fadeTime">Fade Time (sec):</label>
            <input type="number" id="fadeTime" value="30" min="1" max="300">
        </div>
        <div class="preset-group">
            <div class="preset-option">
                <input type="radio" id="presetNormal" name="preset" value="normal" checked>
                <label for="presetNormal">Normal (50 points, 30s)</label>
            </div>
            <div class="preset-option">
                <input type="radio" id="presetDense" name="preset" value="dense">
                <label for="presetDense">Dense (100 points, 60s)</label>
            </div>
            <div class="preset-option">
                <input type="radio" id="presetSparse" name="preset" value="sparse">
                <label for="presetSparse">Sparse (25 points, 15s)</label>
            </div>
        </div>
    </div>

    <div id="tooltip" class="tooltip"></div>

    <script type="importmap">
    {
        "imports": {
            "three": "https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.module.js",
            "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.152.2/examples/jsm/"
        }
    }
    </script>
    <script type="module" src="scripts.js"></script>

</body>

</html>